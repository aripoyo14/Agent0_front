(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[870],{255:(e,t,l)=>{"use strict";function a(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return a}}),l(5155),l(7650),l(5744),l(589)},378:(e,t,l)=>{Promise.resolve().then(l.bind(l,6973))},514:(e,t,l)=>{"use strict";l.d(t,{f7:()=>r,gf:()=>i});let a="access_token",n="token_type";function s(){return"undefined"!=typeof localStorage}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bearer";s()&&(localStorage.setItem(a,e),localStorage.setItem(n,t))}function i(){return s()?{accessToken:localStorage.getItem(a),tokenType:localStorage.getItem(n)}:{accessToken:null,tokenType:null}}},2146:(e,t,l)=>{"use strict";function a(e){let{reason:t,children:l}=e;return l}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}}),l(5262)},2956:(e,t,l)=>{"use strict";l.d(t,{n:()=>s});var a=l(514);let n=l(7358).env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8000";async function s(e){var t;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:s="GET",body:r,headers:i={},auth:c=!1,signal:o}=l,d={...i};if(r instanceof FormData||(d["Content-Type"]="application/json"),c){let{accessToken:e,tokenType:t}=(0,a.gf)();e&&(d.Authorization="".concat(t||"Bearer"," ").concat(e))}let u=await fetch("".concat(n).concat(e),{method:s,headers:d,body:r instanceof FormData?r:null!=r?JSON.stringify(r):void 0,credentials:"include",signal:o}),x=(null==(t=u.headers.get("content-type"))?void 0:t.includes("application/json"))?await u.json().catch(()=>null):null;if(!u.ok)throw Error((null==x?void 0:x.detail)||(null==x?void 0:x.message)||"Request failed: ".concat(u.status));return x}},3704:(e,t,l)=>{"use strict";l.d(t,{default:()=>s});var a=l(5155),n=l(2115);function s(e){let{scale:t=1,vwRatio:l=.9,maxWidthPx:s=1100}=e,[r,i]=(0,n.useState)({width:0,height:0,top1:0,top2:0,top3:0});(0,n.useEffect)(()=>{let e=()=>{let e=window.innerWidth,a=window.innerHeight,n=Math.min(e*l,s)*t,r=.35917765074963215*n,c=Math.max(0,a-r);i({width:n,height:r,top1:0,top2:0+r,top3:c})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[s,t,l]);let c={left:"50%",transform:"translateX(-50%)",width:r.width,height:r.height,borderRadius:706.9231};return(0,a.jsxs)("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0",children:[(0,a.jsx)("div",{className:"absolute",style:{...c,top:r.top1,background:"linear-gradient(90deg, rgba(135,196,247,0.4) 0%, rgba(160,199,217,0) 79%)"}}),(0,a.jsx)("div",{className:"absolute",style:{...c,top:r.top2,background:"linear-gradient(270deg, rgba(143,184,234,0.4) 0%, rgba(160,199,217,0) 78%)"}}),(0,a.jsx)("div",{className:"absolute",style:{...c,top:r.top3,background:"linear-gradient(90deg, rgba(142,184,216,0.3) 0%, rgba(160,199,217,0) 79%)"}})]})}},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{bindSnapshot:function(){return r},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return i}});let l=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class a{disable(){throw l}getStore(){}run(){throw l}exit(){throw l}enterWith(){throw l}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return n?new n:new a}function r(e){return n?n.bind(e):a.bind(e)}function i(){return n?n.snapshot():function(e,...t){return e(...t)}}},5028:(e,t,l)=>{"use strict";l.d(t,{default:()=>n.a});var a=l(6645),n=l.n(a)},5695:(e,t,l)=>{"use strict";var a=l(8999);l.o(a,"useParams")&&l.d(t,{useParams:function(){return a.useParams}}),l.o(a,"useRouter")&&l.d(t,{useRouter:function(){return a.useRouter}})},5744:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return a.workAsyncStorageInstance}});let a=l(7828)},6645:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let a=l(8229)._(l(7357));function n(e,t){var l;let n={};"function"==typeof e&&(n.loader=e);let s={...n,...t};return(0,a.default)({...s,modules:null==(l=s.loadableGenerated)?void 0:l.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6973:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>b});var a=l(5155),n=l(2115),s=l(5695);let r={name:"鈴木一郎",currentInfo:{exchange_date:"2025/07/26",company_name:"GXベンチャーズ株式会社",current_department:"投資部",current_title:"投資マネージャー"},contactInfo:{email:"suzuki.ichiro@gx-ventures.co.jp",phone:"03-1234-5678"}};function i(e){let{name:t,affiliation:l,evaluationAverage:n,email:s,phone:r}=e;return(0,a.jsx)("div",{className:"h-full flex items-center",children:(0,a.jsxs)("div",{className:"max-w-full flex items-start justify-between w-full gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-0.5",children:[(0,a.jsx)("h1",{className:"text-sm lg:text-base font-bold text-white",children:t}),(0,a.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded bg-white/20 text-white text-[10px] lg:text-xs font-bold",children:"評価: ".concat(null!=n?"".concat(n,"/5"):"-/5")})]}),l&&(0,a.jsx)("p",{className:"text-[10px] lg:text-xs text-white/90 mb-1 line-clamp-1",children:l})]}),(0,a.jsx)("div",{className:"flex items-start gap-4 flex-shrink-0",children:(0,a.jsxs)("div",{className:"flex flex-col items-start gap-1",children:[s&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-white",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-xs",children:"mail"}),(0,a.jsx)("span",{className:"text-[10px] lg:text-xs",children:s})]}),r&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-white",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-xs",children:"call"}),(0,a.jsx)("span",{className:"text-[10px] lg:text-xs",children:r})]})]})})]})})}var c=l(5028),o=l(2956),d=l(9323);let u=(0,c.default)(()=>l.e(748).then(l.bind(l,9748)),{loadableGenerated:{webpack:()=>[9748]},ssr:!1});function x(e,t,l){return Math.max(t,Math.min(l,e))}function m(e){let{expertId:t,className:l}=e,r=(0,s.useRouter)(),i=(0,n.useRef)(null),c=(0,n.useRef)(null),[m,h]=(0,n.useState)(0),[f,p]=(0,n.useState)({left:0,right:0}),[g,b]=(0,n.useState)(null),[v,y]=(0,n.useState)(!1),[j,N]=(0,n.useState)(null),[w,_]=(0,n.useState)(null),k=(0,n.useRef)(null),[S,P]=(0,n.useState)(0);n.useLayoutEffect(()=>{if(!i.current)return;let e=i.current,t=()=>{let t=getComputedStyle(e);p({left:parseFloat(t.paddingLeft||"0")||0,right:parseFloat(t.paddingRight||"0")||0}),h(e.clientWidth)};t();let l=new ResizeObserver(()=>t());return l.observe(e),()=>l.disconnect()},[]),n.useEffect(()=>{let e=(0,d.l4)();if(!t||!(null==e?void 0:e.userId))return void b({routes:[]});if(k.current)try{k.current.abort()}catch(e){}let l=new AbortController;return k.current=l,y(!0),N(null),(async()=>{try{let a={user_id:e.userId,expert_id:t,window_days:180,half_life_days:90,overlap_config_id:1,overlap_coef:.4,max_results:5},n=await (0,o.n)("/api/network_meti/routes",{method:"POST",body:a,headers:{"x-cancel":String(Date.now())},signal:l.signal,auth:!0});b(n)}catch(e){N(e instanceof Error?e.message:"取得に失敗しました"),b({routes:[]})}finally{y(!1)}})(),()=>{try{l.abort()}catch(e){}}},[t,S]);let T=(0,n.useMemo)(()=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=Math.max(0,e-t-l),n=Math.max(24,Math.min(96,.08*a));return{ux:t+n,zx:t+a-n}})(m,f.left,f.right),[m,f.left,f.right]),{nodes:M,links:I}=(0,n.useMemo)(()=>{let e=[],t=[];if(!g||!g.routes)return{nodes:e,links:t};let l=new Map,a=new Map,n=(t,a,n)=>{let s=l.get(t);return s||(s={id:t,label:a,kind:n},l.set(t,s),e.push(s)),s},s=(e,t,l,n)=>{let s="".concat(e,"::").concat(t),r=a.get(s);(!r||l>r.weight)&&a.set(s,{id:s,source:e,target:t,weight:l,label:n})};for(let e of[...g.routes].sort((e,t)=>{var l,a;return(null!=(l=t.score)?l:0)-(null!=(a=e.score)?a:0)}).slice(0,5)){if(!e.path||e.path.length<3)continue;let t=e.path,l=t[0],a=t[t.length-1],r=4===t.length,i=r?t[1]:null,c=r?t[2]:t[1],o=n(l.id,l.name||"あなた","user"),d=n(c.id,c.name||c.id,"staff");i&&(n(i.id,i.name||i.id,"staff").mediator=!0);let u=n(a.id,a.name||a.id,"expert"),m=e.breakdown||{};null==m.ux_score||isNaN(m.ux_score)||r||s(l.id,c.id,x(m.ux_score,0,1),"".concat(o.label,"–").concat(d.label,": ").concat(m.ux_score.toFixed(2))),null!=m.um_score&&i&&s(l.id,i.id,x(m.um_score,0,1),"".concat(o.label,"–").concat(i.name||i.id,": ").concat(m.um_score.toFixed(2))),null!=m.mx_score&&i&&s(i.id,c.id,x(m.mx_score,0,1),"".concat(i.name||i.id,"–").concat(d.label,": ").concat(m.mx_score.toFixed(2))),null!=m.xz_score&&s(c.id,a.id,x(m.xz_score,0,1),"".concat(d.label,"–").concat(u.label,": ").concat(m.xz_score.toFixed(2)))}for(let t of e)"user"===t.kind&&(t.fx=T.ux),"expert"===t.kind&&(t.fx=T.zx);return a.forEach(e=>t.push(e)),{nodes:e,links:t}},[g,T.ux,T.zx]);n.useEffect(()=>{try{var e,t;null==(t=c.current)||null==(e=t.d3ReheatSimulation)||e.call(t)}catch(e){}let l=setTimeout(()=>{try{var e,t;null==(t=c.current)||null==(e=t.zoomToFit)||e.call(t,400,40)}catch(e){}},120);return()=>clearTimeout(l)},[M.length,I.length,T.ux,T.zx]);let O=!M.length||!I.length;return(0,a.jsxs)("div",{ref:i,className:"h-full w-full relative overflow-hidden ".concat(l||""),children:[v&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:(0,a.jsx)("div",{className:"bg-white/90 rounded px-3 py-1 text-xs text-gray-700 border",children:"読み込み中..."})}),j&&(0,a.jsx)("div",{className:"absolute inset-x-4 top-3 z-10",children:(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 text-xs rounded px-3 py-2 flex items-center justify-between",children:[(0,a.jsx)("span",{children:j}),(0,a.jsx)("button",{className:"text-red-700 underline",onClick:()=>N(null),children:"閉じる"})]})}),O?(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-3 flex items-center justify-center",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-gray-500 text-xl",children:"group"})}),(0,a.jsx)("p",{className:"text-gray-700 text-sm font-bold mb-1",children:"関係が見つかりませんでした"}),(0,a.jsx)("button",{onClick:()=>P(e=>e+1),className:"inline-flex items-center justify-center px-3 py-1.5 bg-[#58aadb] text-white rounded text-xs hover:opacity-90",children:"再取得"})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u,{ref:c,graphData:{nodes:M,links:I.map(e=>({source:e.source,target:e.target,value:e.weight,label:e.label}))},nodeRelSize:6,nodeLabel:e=>{let t=e.kind;return"".concat(e.label,"\n種別: ").concat("user"===t?"ユーザー":"staff"===t?"職員":"有識者")},linkLabel:e=>e.label||"",linkColor:e=>{let t=.25+Math.min(.75,.75*("number"==typeof e.value?e.value:.4));return"rgba(88,170,219,".concat(t.toFixed(3),")")},linkWidth:e=>(function(e){let t="number"==typeof e?x(e,0,1):void 0;return null==t?0:1.5+4.5*t})(e.value),enableZoomInteraction:!0,enablePanInteraction:!0,cooldownTime:1800,onNodeClick:e=>{if("staff"===e.kind)return void _(String(e.id));if("expert"===e.kind){try{var t,l;null==(l=c.current)||null==(t=l.zoomToFit)||t.call(l,400,40)}catch(e){}return}},backgroundColor:"rgba(255,255,255,1)",nodeCanvasObject:(e,t,l)=>{var a,n,s,r,i,c;let o="user"===e.kind,d="expert"===e.kind,u=!!e.mediator,x=o||d?12:9;t.save(),t.beginPath(),t.arc(null!=(a=e.x)?a:0,null!=(n=e.y)?n:0,x,0,2*Math.PI,!1),t.fillStyle=d?"#58aadb":o?"#1f2937":"#9ca3af",t.globalAlpha=o||d?.95:.8,t.fill(),t.lineWidth=o||d?2.5:1.5,t.strokeStyle="white",t.stroke(),u&&(t.setLineDash([3,2]),t.lineWidth=1.2,t.strokeStyle="#9ca3af",t.beginPath(),t.arc(null!=(s=e.x)?s:0,null!=(r=e.y)?r:0,x+3,0,2*Math.PI,!1),t.stroke());let m=Math.max(8,(o||d?12:10)/l);t.font="600 ".concat(m,"px sans-serif"),t.textAlign="center",t.textBaseline="top",t.fillStyle="rgba(31,41,55,0.95)",t.fillText(String(e.label),null!=(i=e.x)?i:0,(null!=(c=e.y)?c:0)+x+4),t.restore()}}),(0,a.jsxs)("div",{className:"absolute bottom-3 left-3 bg-white/90 backdrop-blur-sm p-3 rounded-lg shadow-lg border border-white/50 text-[10px]",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"w-2.5 h-2.5 rounded-full border-2 border-[#1f2937]"})," ",(0,a.jsx)("span",{className:"text-gray-700 font-bold",children:"U"})," ",(0,a.jsx)("span",{className:"text-gray-600",children:"ユーザー"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"w-2.5 h-2.5 rounded-full border-2 border-[#6b7280]"})," ",(0,a.jsx)("span",{className:"text-gray-700 font-bold",children:"X"})," ",(0,a.jsx)("span",{className:"text-gray-600",children:"職員"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"w-2.5 h-2.5 rounded-full border-2 border-dashed border-[#9ca3af]"})," ",(0,a.jsx)("span",{className:"text-gray-700 font-bold",children:"M"})," ",(0,a.jsx)("span",{className:"text-gray-600",children:"仲介"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"w-2.5 h-2.5 rounded-full bg-gradient-to-br from-[#b4d9d6] to-[#58aadb]"})," ",(0,a.jsx)("span",{className:"text-gray-700 font-bold",children:"Z"})," ",(0,a.jsx)("span",{className:"text-gray-600",children:"有識者"})]})]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("div",{className:"text-gray-700 font-medium mb-1",children:"線の太さ = 関係強度"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-0.5 bg-[#58aadb]",style:{width:32}}),(0,a.jsx)("span",{className:"text-gray-600",children:"0"}),(0,a.jsx)("div",{className:"h-[6px] bg-[#58aadb]",style:{width:32}}),(0,a.jsx)("span",{className:"text-gray-600",children:"1"})]})]})]}),w&&(0,a.jsxs)("div",{className:"absolute right-3 top-3 bg-white/95 rounded-lg shadow-lg border p-3 text-[11px]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-bold text-gray-800",children:"職員 詳細"}),(0,a.jsx)("button",{className:"text-gray-500",onClick:()=>_(null),children:"\xd7"})]}),(0,a.jsxs)("div",{className:"text-gray-700 mb-2",children:["ID: ",w]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>{alert("紹介依頼フローに接続してください")},className:"px-3 py-1.5 bg-[#58aadb] text-white rounded hover:opacity-90",children:"紹介依頼"}),(0,a.jsx)("button",{onClick:()=>r.push("/dashboard"),className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded border hover:bg-gray-50",children:"社内プロフィール"})]})]})]})]})}function h(e){switch(e){case 1:return"否定的";case 2:return"やや否定的";case 3:return"中立";case 4:return"やや肯定的";case 5:return"肯定的";default:return"-"}}var f=l(3704);let p=e=>{let{title:t,children:l}=e;return(0,a.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm border border-white/50 rounded-lg shadow-lg flex flex-col h-full",children:[(0,a.jsx)("div",{className:"p-3 border-b border-gray-200 flex-shrink-0",children:(0,a.jsx)("h3",{className:"text-gray-800 font-semibold text-xs",children:t})}),(0,a.jsx)("div",{className:"p-3 flex-1 overflow-hidden",children:l})]})};function g(e){let t="string"==typeof e?new Date(e):e;if(Number.isNaN(t.getTime()))return String(e);let l=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return"".concat(l,"/").concat(a,"/").concat(n)}function b(){var e;let t=(0,s.useParams)(),l=(0,s.useRouter)(),c=t.id,[d,u]=(0,n.useState)(null),[x,b]=(0,n.useState)(!1),[v,y]=(0,n.useState)(null),[j,N]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=async()=>{b(!0),y(null);try{let e=await (0,o.n)("/api/experts/".concat(c,"/insights"),{method:"GET"});u(e),N({policy_themes:[],experts:[],relations:[]})}catch(e){y(e instanceof Error?e.message:"取得に失敗しました")}finally{b(!1)}};c&&e()},[c]);let w=(0,n.useMemo)(()=>{var e;return null!=(e=null==d?void 0:d.meetings)?e:[]},[d]),_=(0,n.useMemo)(()=>{var e;return null!=(e=null==d?void 0:d.policy_comments)?e:[]},[d]),k=null!=(e=null==d?void 0:d.evaluation_average)?e:null;return(0,a.jsxs)("div",{className:"h-screen w-full relative flex flex-col overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-[#7bc8e8] via-[#58aadb] to-[#2d8cd9]"}),(0,a.jsx)("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{backgroundImage:'url("data:image/svg+xml,'.concat(encodeURIComponent('\n          <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n            <filter id="noiseFilter">\n              <feTurbulence type="fractalNoise" baseFrequency="1.5" numOctaves="4" stitchTiles="stitch"/>\n            </filter>\n            <rect width="100%" height="100%" filter="url(#noiseFilter)"/>\n          </svg>\n        '),'")')}}),(0,a.jsx)(f.default,{scale:.8}),(0,a.jsxs)("div",{className:"relative z-10 px-6 lg:px-8 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("button",{onClick:()=>{l.push("/search")},className:"flex items-center gap-2 text-white hover:text-white/80 transition-colors",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-base",children:"arrow_back"}),(0,a.jsx)("span",{className:"font-medium text-xs",children:"検索に戻る"})]}),(0,a.jsx)("button",{onClick:()=>l.push("/dashboard"),className:"font-semibold text-white text-sm tracking-wide hover:text-white/80 transition-colors cursor-pointer",children:"METI Picks"})]}),(0,a.jsx)("div",{className:"bg-black/5 backdrop-blur-sm rounded-xl px-4 py-2",children:(0,a.jsx)(i,{name:(null==d?void 0:d.experts_name)||r.name,affiliation:d?"".concat(d.company_name||"").concat(d.department?" / ".concat(d.department):"").concat(d.title?" / ".concat(d.title):""):"".concat(r.currentInfo.company_name," / ").concat(r.currentInfo.current_department," / ").concat(r.currentInfo.current_title),evaluationAverage:k,email:(null==d?void 0:d.email)||r.contactInfo.email,phone:(null==d?void 0:d.mobile)||r.contactInfo.phone})})]}),(0,a.jsx)("div",{className:"relative z-10 flex-1 px-6 lg:px-8 pb-4 overflow-hidden",children:(0,a.jsx)("div",{className:"h-full overflow-hidden",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-full",children:[(0,a.jsx)("div",{className:"lg:col-span-1 h-full",children:(0,a.jsx)("div",{className:"h-full",children:(0,a.jsx)(p,{title:"面談記録",children:(0,a.jsxs)("div",{className:"h-full overflow-y-auto space-y-2 custom-scrollbar",children:[x&&(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"読み込み中..."}),v&&(0,a.jsx)("div",{className:"text-xs text-red-600",children:v}),w.map(e=>{var t,l;let n=e.participants&&e.participants.length>0?e.participants[0]:null,s=(null==n||null==(t=n.department)?void 0:t.department_name)||"",r=n?"".concat(n.last_name).concat(n.first_name):"",i=[e.expert_company_name,e.expert_department_name,e.expert_title].filter(Boolean).join(" ");return(0,a.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded p-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-gray-600 text-[10px]",children:g(e.meeting_date)}),(0,a.jsxs)("span",{className:"text-gray-600 text-[10px]",children:["当時の所属・役職：",i||"-"]})]}),(0,a.jsx)("h4",{className:"text-gray-900 text-xs font-semibold mb-0.5",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[10px] text-gray-700 mb-1",children:[(0,a.jsxs)("span",{children:["評価: ",null!=(l=e.evaluation)?l:"-"," / 5"]}),(0,a.jsxs)("span",{children:["スタンス: ",h(e.stance)]})]}),(s||r)&&(0,a.jsxs)("div",{className:"text-blue-600 text-[10px] font-semibold mb-1",children:[s?"".concat(s," "):"",r]}),e.summary&&(0,a.jsx)("p",{className:"text-gray-700 text-[10px] leading-tight line-clamp-3",children:e.summary})]},e.meeting_id)})]})})})}),(0,a.jsx)("div",{className:"lg:col-span-1 h-full",children:(0,a.jsx)(p,{title:"政策意見",children:(0,a.jsx)("div",{className:"h-full overflow-y-auto space-y-1.5 custom-scrollbar",children:_.map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded border border-gray-200",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-1.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"flex items-center gap-1.5 mb-0.5",children:(0,a.jsx)("span",{className:"text-gray-600 text-[10px]",children:g(e.posted_at)})}),(0,a.jsx)("h4",{className:"text-gray-900 text-xs font-semibold mb-0.5",children:e.policy_title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[10px] text-gray-700 mb-1",children:[(0,a.jsxs)("span",{children:["評価: ",null!=(t=e.evaluation)?t:"-"," / 5"]}),(0,a.jsxs)("span",{children:["スタンス: ",h(e.stance)]})]}),(0,a.jsx)("p",{className:"text-gray-700 text-[10px] leading-tight line-clamp-3",children:e.comment_text})]})]},e.policy_proposal_id)})})})}),(0,a.jsx)("div",{className:"lg:col-span-1 h-full",children:(0,a.jsx)(p,{title:"人脈マップ",children:(0,a.jsx)("div",{className:"h-full",children:(0,a.jsx)(m,{expertId:c})})})})]})})})]})}},7357:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let a=l(5155),n=l(2115),s=l(2146);function r(e){return{default:e&&"default"in e?e.default:e}}l(255);let i={loader:()=>Promise.resolve(r(()=>null)),loading:null,ssr:!0},c=function(e){let t={...i,...e},l=(0,n.lazy)(()=>t.loader().then(r)),c=t.loading;function o(e){let r=c?(0,a.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,o=i?n.Suspense:n.Fragment,d=t.ssr?(0,a.jsxs)(a.Fragment,{children:[null,(0,a.jsx)(l,{...e})]}):(0,a.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(l,{...e})});return(0,a.jsx)(o,{...i?{fallback:r}:{},children:d})}return o.displayName="LoadableComponent",o}},7828:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return a}});let a=(0,l(4054).createAsyncLocalStorage)()},9323:(e,t,l)=>{"use strict";l.d(t,{iD:()=>r,l4:()=>s});var a=l(2956),n=l(514);function s(){let e,t=(0,n.gf)();if(!t)return null;if("string"==typeof t)e=t;else{if(!t||"object"!=typeof t||!("accessToken"in t)||"string"!=typeof t.accessToken||!t.accessToken)return null;e=t.accessToken}try{let t,l=e.split(".")[1];if(!l)return null;let a=l.replace(/-/g,"+").replace(/_/g,"/"),n=a.padEnd(a.length+(4-(a.length%4||0))%4,"="),s=atob(n),r=JSON.parse(s);return t="expert"===r.user_type?"contributor":"user"===r.user_type?"staff":"contributor",{userId:r.sub,userType:r.user_type,role:t}}catch(e){return null}}async function r(e,t){let l=await (0,a.n)("/api/auth/login",{method:"POST",body:{email:e,password:t}});(0,n.f7)(l.access_token,l.token_type)}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(378)),_N_E=e.O()}]);