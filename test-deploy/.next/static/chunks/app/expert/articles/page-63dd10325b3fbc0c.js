(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[335],{470:(e,t,s)=>{Promise.resolve().then(s.bind(s,4948))},4948:(e,t,s)=>{"use strict";s.d(t,{default:()=>j});var l=s(5155),a=s(2115),r=s(5695),n=s(5425),i=s(3704),o=s(6678),c=s(4704);let d=e=>{try{let t=new Date(e),s=new Date,l=Math.abs(s.getTime()-t.getTime()),a=Math.ceil(l/864e5);if(1===a)return"昨日";if(a<=7)return"".concat(a,"日前");if(a<=30){let e=Math.floor(a/7);return"".concat(e,"週間前")}else{if(!(a<=365))return t.toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});let e=Math.floor(a/30);return"".concat(e,"ヶ月前")}}catch(t){return e}},x=e=>({id:e.id,title:e.title,summary:e.body.substring(0,100)+"...",content:e.body,department:"中小企業庁 地域産業支援課",publishedAt:d(e.published_at||e.created_at),commentCount:0,themeId:e.policy_tags&&e.policy_tags.length>0?e.policy_tags[0].id.toString():"startup"}),m=e=>{let{themes:t,onThemeSelect:s}=e;return(0,l.jsx)("div",{className:"absolute contents left-[65px] top-[123.83px]",children:t.map((e,t)=>{let a=[{left:65,top:123.83},{left:65,top:163},{left:228.78,top:123.83},{left:228.78,top:163},{left:392.57,top:123.83},{left:392.57,top:163},{left:556.36,top:123.83},{left:556.36,top:163},{left:720.14,top:124.33},{left:720.14,top:163},{left:883.93,top:124.33},{left:883.93,top:163},{left:1047.71,top:124.33},{left:1047.71,top:163},{left:1211.5,top:124.33},{left:1211.5,top:163}][t]||{left:65,top:140.83};return(0,l.jsx)("div",{className:"absolute box-border content-stretch flex flex-row h-[25.389px] items-start justify-start p-0",style:{left:"".concat(a.left,"px"),top:"".concat(a.top,"px"),width:"146.362px"},children:(0,l.jsxs)("button",{onClick:()=>s(e.id),className:"box-border content-stretch flex flex-row gap-[10px] h-[30px] items-center justify-start px-[3.346px] py-[2.51px] relative rounded-[40px] shrink-0 w-[160px] transition-all hover:shadow-md ".concat(e.isSelected?"bg-white ring-2 ring-white":"bg-transparent"),children:[(0,l.jsx)("div",{"aria-hidden":"true",className:"absolute border-solid inset-0 pointer-events-none rounded-[40px] ".concat((e.isSelected,"border-white border-[1px]"))}),(0,l.jsx)("div",{className:"basis-0 font-['Noto_Sans_JP:Bold',_sans-serif] font-bold grow leading-[0] min-h-px min-w-px relative shrink-0 text-[11px] text-center tracking-[2px] ".concat(e.isSelected?"text-[#58aadb]":"text-white"),children:(0,l.jsx)("p",{className:"block leading-[1.4] whitespace-pre-line",children:e.name})})]})},e.id)})})},h=e=>{let{article:t,onArticleClick:s}=e;return(0,l.jsxs)("button",{onClick:()=>s(t),className:"block cursor-pointer h-[90px] w-[1200px] p-0 hover:bg-gray-50 transition-colors relative mx-auto","aria-label":"記事「".concat(t.title,"」を開く"),children:[(0,l.jsx)("div",{className:"flex flex-col font-['Noto_Sans_JP:DemiLight',_sans-serif] font-[350] h-[18px] justify-center text-[rgba(34,34,34,0.7)] text-left w-[250px] absolute top-[50px] left-0",children:(0,l.jsx)("p",{className:"block leading-[16px] whitespace-nowrap overflow-hidden text-[11.95px]",style:{fontFamily:"Noto Sans JP, sans-serif"},children:t.department})}),(0,l.jsx)("div",{className:"flex flex-col font-['Noto_Sans_JP:DemiLight',_sans-serif] font-[350] h-[18px] justify-center text-[11.95px] text-[rgba(34,34,34,0.7)] text-left w-[100.562px] absolute top-[50px] left-[260px]",children:(0,l.jsx)("p",{className:"block leading-[16px]",children:t.publishedAt})}),(0,l.jsx)("div",{className:"font-['Noto_Sans_JP:DemiLight',_sans-serif] font-[350] h-[39.826px] leading-[20px] text-[13px] text-[rgba(34,34,34,0.7)] text-left tracking-[0.4779px] w-[600px] absolute top-[11.95px] left-[430.92px]",children:(0,l.jsx)("p",{className:"adjustLetterSpacing block mb-0",children:t.summary})}),(0,l.jsx)("div",{className:"h-[52.272px] w-[450px] absolute top-0 left-0",children:(0,l.jsx)("div",{className:"flex flex-col font-['Noto_Sans_JP:Bold',_sans-serif] font-bold justify-center leading-[0] text-[#707070] text-[16px] text-left top-[25.39px] tracking-[0.9911px] translate-y-[-50%] w-full absolute",children:(0,l.jsx)("p",{className:"adjustLetterSpacing block leading-[20px]",children:t.title})})}),(0,l.jsx)("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 flex items-center gap-2",children:(0,l.jsx)(o.X,{policyProposalId:t.id,className:"text-[12px] text-gray-700 font-bold",showIcon:!0})}),(0,l.jsx)("div",{className:"absolute flex h-[3.983px] items-center justify-center left-0 right-0 top-[85px]",children:(0,l.jsx)("div",{className:"flex-none h-[3.983px] scale-y-[-100%] w-full",children:(0,l.jsx)("div",{className:"relative size-full",children:(0,l.jsx)("div",{"aria-hidden":"true",className:"absolute border-[1.958px_0px_0px] border-[rgba(34,34,34,0.12)] border-solid inset-0 pointer-events-none"})})})})]})},p=e=>{let{badge:t}=e;return(0,l.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-[10px] font-medium",style:{backgroundColor:t.color+"20",color:t.color,border:"1px solid ".concat(t.color,"40")},title:t.description,children:t.label})},u=e=>{let{currentSort:t,onSortChange:s}=e;return(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"並び替え:"}),(0,l.jsx)("select",{value:t,onChange:e=>s(e.target.value),className:"text-sm border border-gray-300 rounded-md px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"relevance",label:"関連性順"},{value:"likes",label:"いいね順"},{value:"views",label:"閲覧数順"},{value:"date",label:"投稿日時順"}].map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]})},f=e=>{let{comment:t}=e;return(0,l.jsxs)("div",{className:"border-b border-gray-100 pb-4",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-xs font-bold text-gray-600",children:t.author.name.charAt(0)}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"font-bold text-gray-900",children:t.author.name}),(0,l.jsx)("span",{className:"text-xs text-gray-500",children:t.author.role})]}),(0,l.jsx)("div",{className:"flex gap-1",children:t.author.badges.map((e,t)=>(0,l.jsx)(p,{badge:e},t))})]}),(0,l.jsx)("span",{className:"text-xs text-gray-500",children:t.createdAt})]})]}),(0,l.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed ml-11",children:t.content}),(0,l.jsx)("div",{className:"flex items-center gap-2 mt-3 ml-11",children:(0,l.jsxs)("button",{className:"flex items-center gap-1 text-gray-500 hover:text-red-500 transition-colors",children:[(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,l.jsx)("span",{className:"text-xs",children:t.likeCount})]})})]})},g=e=>{let{overlay:t,onClose:s,onViewDetail:r,isAnimating:i}=e,[d,x]=(0,a.useState)("relevance"),[m,h]=(0,a.useState)([]),[p,g]=(0,a.useState)(!1),j=(0,a.useCallback)(async e=>{try{g(!0);let t=await (0,c.fJ)(e),s=[...new Set(t.map(e=>e.author_id))],l={};if(s.length>0)try{l=await (0,c.Ro)(s)}catch(e){console.error("ユーザー情報の一括取得に失敗しました:",e)}let a=t.map(e=>{var t;let s=l[e.author_id];return{id:e.id,author:{id:e.author_id,name:(null==s?void 0:s.name)||e.author_name||"ユーザー".concat(e.author_id.slice(-4)),role:(null==s?void 0:s.role)||("contributor"===e.author_type?"エキスパート":e.author_type),company:(null==s?void 0:s.company)||"会社名",badges:(null==s||null==(t=s.badges)?void 0:t.map(e=>({type:e.type,label:e.label,color:e.color,description:e.description})))||[{type:"expert",label:"認定エキスパート",color:"#4AA0E9",description:"認定されたエキスパート"}],expertiseLevel:(null==s?void 0:s.expertiseLevel)||"expert"},content:e.comment_text,createdAt:new Date(e.posted_at).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}),likeCount:0,viewCount:0,isLiked:!1}});h(a)}catch(e){console.error("コメントの取得エラー:",e),h([])}finally{g(!1)}},[]);if((0,a.useEffect)(()=>{t.selectedArticle&&j(t.selectedArticle.id)},[t.selectedArticle,j]),!t.isOpen||!t.selectedArticle)return null;let b=t.selectedArticle,v=(0,n.Tc)(m,d);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black/0 z-30 transition-opacity duration-300",onClick:s}),(0,l.jsx)("div",{className:"fixed inset-y-0 right-0 w-[800px] bg-white shadow-2xl z-50 transform transition-all duration-500 ease-in-out overflow-hidden ".concat(i?"translate-x-0":"translate-x-full"),children:(0,l.jsxs)("div",{className:"h-full flex flex-col",children:[(0,l.jsx)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:(0,l.jsx)("button",{onClick:s,className:"flex items-center justify-center w-6 h-6 text-gray-500 hover:text-gray-700 transition-colors","aria-label":"オーバーレイを閉じる",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h1",{className:"text-xl font-bold text-gray-900 mb-3 leading-tight",children:b.title}),(0,l.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[(0,l.jsx)("span",{children:b.department}),(0,l.jsx)("span",{children:b.publishedAt}),(0,l.jsxs)("span",{children:["コメント: ",(0,l.jsx)(o.X,{policyProposalId:b.id,className:"text-gray-600",showIcon:!1})]})]}),(0,l.jsx)("div",{className:"prose max-w-none mb-4",children:(0,l.jsx)("p",{className:"text-gray-700 leading-relaxed text-sm",children:b.summary})}),(0,l.jsx)("div",{className:"flex justify-center mb-2",children:(0,l.jsx)("button",{onClick:()=>r(b),className:"bg-[#4AA0E9] text-white px-5 py-2 rounded-full hover:bg-[#3a8fd9] transition-colors text-sm font-medium shadow-md hover:shadow-lg",children:"詳細を見る"})}),(0,l.jsxs)("div",{className:"pt-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,l.jsx)("h3",{className:"text-base font-bold text-gray-900",children:"意見一覧"})]}),(0,l.jsx)(u,{currentSort:d,onSortChange:x})]}),(0,l.jsx)("div",{className:"border-t border-gray-200 pt-3"})]})]}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,l.jsx)("div",{className:"px-6 pb-6",children:(0,l.jsx)("div",{className:"space-y-6",children:p?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"text-gray-500 text-sm mb-3",children:"コメントを読み込み中..."}),(0,l.jsxs)("div",{className:"flex justify-center space-x-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,l.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,l.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}):0===v.length?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-300 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,l.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"まだ意見が投稿されていません"}),(0,l.jsxs)("p",{className:"text-gray-500 text-xs max-w-xs mx-auto leading-relaxed",children:["この記事に関する意見がまだ投稿されていません。",(0,l.jsx)("br",{}),"最初の意見を投稿してみませんか？"]}),(0,l.jsx)("div",{className:"mt-4 flex justify-center",children:(0,l.jsxs)("div",{className:"flex space-x-1",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-gray-200 rounded-full"}),(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-gray-300 rounded-full"}),(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-gray-200 rounded-full"})]})})]}):v.map((e,t)=>(0,l.jsx)(f,{comment:e},e.id))})})})]})})]})};function j(){var e;let t=(0,r.useRouter)(),[s,o]=(0,a.useState)("idle"),[d,p]=(0,a.useState)(n.hM),[u,f]=(0,a.useState)({selectedTheme:"all",searchQuery:""}),[j,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)({isOpen:!1,selectedArticle:null}),[N,w]=(0,a.useState)(!1),[k,_]=(0,a.useState)([]),[L,S]=(0,a.useState)(!1),C=(0,a.useCallback)(async(e,t)=>{o("loading");try{console.log("バックエンドAPI呼び出し開始...");let s=await (0,c.W8)({status:"published",q:t.trim()||void 0,limit:50});console.log("取得された政策提案データ:",s);let l=s.map(x);console.log("変換後の記事データ:",l),e&&"all"!==e?(console.log("テーマ絞り込み前の記事数:",l.length),l=l.filter(t=>{let s=t.themeId===e;return console.log('記事 "'.concat(t.title,'" (themeId: ').concat(t.themeId,') は選択テーマ "').concat(e,'" と一致: ').concat(s)),s}),console.log("テーマ絞り込み後の記事数:",l.length)):console.log("「すべて」が選択されているため、絞り込みなし。記事数:",l.length),console.log("フィルタリング結果:",{selectedTheme:e,searchQuery:t,articlesCount:l.length,totalProposals:s.length}),_(l),o("success")}catch(s){console.error("記事のフィルタリングエラー:",s),s instanceof Error&&console.error("エラー詳細:",s.message),console.log("バックエンドエラーのため、サンプルデータを使用します"),console.log("バックエンド側でjoinedloadの修正が必要です");try{let s=(0,n.KH)(e);t.trim()&&(s=(0,n.aL)(t)),_(s),o("success")}catch(e){console.error("サンプルデータの読み込みエラー:",e),o("error")}}},[]);(0,a.useEffect)(()=>{C(u.selectedTheme||"startup",u.searchQuery)},[u.selectedTheme,u.searchQuery,C]);let M=e=>{f(t=>({...t,searchQuery:e}))},A=e=>{v.isOpen?y({isOpen:!0,selectedArticle:e}):(y({isOpen:!0,selectedArticle:e}),setTimeout(()=>{w(!0)},10))},D=e=>{e.target.closest(".user-menu-container")||S(!1)};return(0,a.useEffect)(()=>{if(L)return document.addEventListener("click",D),()=>document.removeEventListener("click",D)},[L]),(0,l.jsxs)("div",{className:"bg-[#939393] relative size-full h-screen overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute bg-gradient-to-t from-[#7bc8e8] via-[#58aadb] to-[#2d8cd9] h-[1024px] left-1/2 top-1/2 translate-x-[-50%] translate-y-[-50%] w-[1440px]"}),(0,l.jsx)("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{backgroundImage:'url("data:image/svg+xml,'.concat(encodeURIComponent('\n          <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n            <filter id="noiseFilter">\n              <feTurbulence type="fractalNoise" baseFrequency="1.5" numOctaves="4" stitchTiles="stitch"/>\n            </filter>\n            <rect width="100%" height="100%" filter="url(#noiseFilter)"/>\n          </svg>\n        '),'")')}}),(0,l.jsx)(i.default,{scale:.8}),(0,l.jsxs)("div",{className:"absolute h-[29.446px] left-[68px] top-6 w-[1306.73px]",children:[(0,l.jsxs)("div",{className:"absolute inset-[13.58%_6.81%_14.98%_81.12%] right-0",children:[(0,l.jsxs)("div",{className:"absolute right-0 top-0 flex items-center gap-3",children:[(0,l.jsx)("div",{className:"font-['Montserrat:SemiBold',_'Noto_Sans_JP:Bold',_sans-serif] font-semibold text-[#ffffff] text-[12.62px] text-right text-nowrap tracking-[1.5144px]",children:(0,l.jsx)("p",{className:"adjustLetterSpacing block leading-[1.4] whitespace-pre",children:"テックゼロ太郎さん"})}),(0,l.jsx)("button",{onClick:()=>S(!L),className:"cursor-pointer hover:opacity-80 transition-opacity flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),L&&(0,l.jsxs)("div",{className:"absolute right-0 top-12 bg-white rounded-lg shadow-lg border border-gray-200 min-w-[400px] z-[9999]",children:[(0,l.jsx)("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-white border-l border-t border-gray-200 transform rotate-45"}),(0,l.jsxs)("div",{className:"py-2",children:[(0,l.jsxs)("div",{className:"px-4 py-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,l.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM10.5 3.75a6 6 0 0 1 6 6v3.75l-1.5 1.5H6l-1.5-1.5V9.75a6 6 0 0 1 6-6z"})}),(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"新着通知"})]}),(0,l.jsxs)("div",{className:"max-h-48 overflow-y-auto space-y-2",children:[(0,l.jsx)("div",{className:"p-2 bg-gray-50 rounded text-xs",children:(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-[#58aadb] rounded-full mt-1.5 flex-shrink-0"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-xs font-medium text-gray-900 mb-1",children:"新しい政策案が投稿されました"}),(0,l.jsx)("p",{className:"text-xs text-gray-600",children:"「スタートアップ向け税制優遇措置の拡充」について新しい意見が投稿されました"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"2時間前"})]})]})}),(0,l.jsx)("div",{className:"p-2 bg-gray-50 rounded text-xs",children:(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-[#58aadb] rounded-full mt-1.5 flex-shrink-0"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-xs font-medium text-gray-900 mb-1",children:"コメントが追加されました"}),(0,l.jsx)("p",{className:"text-xs text-gray-600",children:"「地方スタートアップ育成ファンドの創設」に新しいコメントが追加されました"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"5時間前"})]})]})}),(0,l.jsx)("div",{className:"p-2 bg-gray-50 rounded text-xs",children:(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-gray-300 rounded-full mt-1.5 flex-shrink-0"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-xs font-medium text-gray-900 mb-1",children:"新しい政策テーマが追加されました"}),(0,l.jsx)("p",{className:"text-xs text-gray-600",children:"「DX-デジタル変革」テーマに新しい記事が追加されました"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"1日前"})]})]})})]})]}),(0,l.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,l.jsxs)("button",{onClick:()=>{S(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3",children:[(0,l.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"プロフィール"]}),(0,l.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,l.jsxs)("button",{onClick:()=>{t.push("/login"),S(!1)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-3",children:[(0,l.jsx)("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"ログアウト"]})]})]})]}),(0,l.jsx)("div",{className:"absolute h-[32px] left-[141px] top-[19%] w-[350px]",children:(0,l.jsxs)("div",{className:"relative w-full h-full",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-white rounded-[8px] shadow-md border border-gray-200 transition-all duration-300"}),(0,l.jsxs)("div",{className:"relative flex items-center h-full px-3",children:[(0,l.jsx)("div",{className:"flex items-center justify-center w-4 h-4 mr-2",children:(0,l.jsx)("svg",{className:"w-3.5 h-3.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,l.jsx)("input",{type:"text",placeholder:"キーワードで検索...",value:u.searchQuery,onChange:e=>M(e.target.value),onFocus:()=>b(!0),onBlur:()=>b(!1),className:"flex-1 bg-transparent border-none outline-none text-[12px] text-gray-700 placeholder:text-gray-400 font-medium tracking-wide",style:{fontFamily:"Noto Sans JP, sans-serif"}}),u.searchQuery&&(0,l.jsx)("button",{onClick:()=>{f(e=>({...e,searchQuery:""}))},className:"flex items-center justify-center w-4 h-4 ml-2 hover:bg-gray-100 rounded-full transition-colors duration-200","aria-label":"検索をクリア",children:(0,l.jsx)("svg",{className:"w-2.5 h-2.5 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),(0,l.jsx)("button",{onClick:()=>t.push("/expert/articles"),className:"absolute bottom-[-5.28%] font-['Montserrat:SemiBold',_sans-serif] font-semibold leading-[0] left-0 right-[90.82%] text-[#ffffff] text-[18.029px] text-left text-nowrap top-[20.38%] tracking-[2.1635px] hover:text-blue-200 transition-colors cursor-pointer",children:(0,l.jsx)("p",{className:"adjustLetterSpacing block leading-[1.4] whitespace-pre",children:"METI Picks"})})]}),(0,l.jsx)("div",{className:"absolute h-[25px] left-[77.48px] top-[85px] w-[563.542px]",children:(0,l.jsx)("div",{className:"absolute flex flex-col font-['Noto_Sans_JP:Bold',_sans-serif] font-bold justify-center leading-[0] left-0 text-[#ffffff] text-[11.948px] text-left top-[12.5px] tracking-[2.4842px] translate-y-[-50%] w-[563.542px]",children:(0,l.jsx)("p",{className:"adjustLetterSpacing block leading-[24.67px]",children:"政策テーマを選ぶ"})})}),(0,l.jsx)(m,{themes:d,onThemeSelect:e=>{p(t=>t.map(t=>({...t,isSelected:t.id===e}))),f(t=>({...t,selectedTheme:e}))}}),(0,l.jsx)("div",{className:"absolute bottom-0 left-[72px] pointer-events-none top-[218px] w-[608.847px]",children:(0,l.jsx)("div",{className:"h-[24.892px] pointer-events-auto sticky top-0 w-full",children:(0,l.jsx)("div",{className:"absolute flex flex-col font-['Noto_Sans_JP:Bold',_sans-serif] font-bold h-[24.892px] justify-center leading-[0] left-0 text-[#fff9f9] text-[22px] text-left top-[12.45px] tracking-[3px] translate-y-[-50%] w-[558.068px]",children:(0,l.jsx)("p",{className:"adjustLetterSpacing block leading-[22px]",children:(null==(e=d.find(e=>e.isSelected))?void 0:e.name)||"政策テーマを選ぶ"})})})}),(0,l.jsx)("div",{className:"absolute h-[500px] left-[65px] top-[249px] w-[1304px] z-40",children:(0,l.jsxs)("div",{className:"absolute bg-[#ffffff] h-[500px] left-0 rounded-[11.759px] top-0 w-[1304px] overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:["loading"===s&&(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,l.jsx)("div",{className:"text-gray-500 text-lg mb-4 font-medium",children:"Loading..."}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,l.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,l.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}),"error"===s&&(0,l.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,l.jsx)("div",{className:"text-red-500",children:"エラーが発生しました"})}),(0,l.jsxs)("div",{className:"p-6 pb-8",children:["loading"===s&&(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"text-gray-500 text-lg mb-4 font-medium",children:"Loading..."}),(0,l.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,l.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,l.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}),"error"===s&&(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsx)("p",{className:"text-red-500",children:"エラーが発生しました"})}),"loading"!==s&&"error"!==s&&(0,l.jsx)(l.Fragment,{children:0===k.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-[#58aadb] mb-2",children:"記事がまだありません"}),(0,l.jsxs)("p",{className:"text-gray-500 text-sm max-w-md mx-auto leading-relaxed",children:["選択されたテーマに関連する記事がまだ投稿されていません。",(0,l.jsx)("br",{}),"他のテーマを選択するか、しばらくお待ちください。"]}),(0,l.jsx)("div",{className:"mt-6 flex justify-center",children:(0,l.jsxs)("div",{className:"flex space-x-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-gray-200 rounded-full"}),(0,l.jsx)("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),(0,l.jsx)("div",{className:"w-2 h-2 bg-gray-200 rounded-full"})]})})]}):k.map((e,t)=>(0,l.jsx)("div",{className:"relative mb-2 flex justify-center",children:(0,l.jsx)(h,{article:e,onArticleClick:A})},e.id))})]})]})}),(0,l.jsx)(g,{overlay:v,onClose:()=>{w(!1),setTimeout(()=>{y({isOpen:!1,selectedArticle:null})},500)},onViewDetail:e=>{t.push("/expert/articles/".concat(e.id))},isAnimating:N})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[839,441,684,358],()=>t(470)),_N_E=e.O()}]);